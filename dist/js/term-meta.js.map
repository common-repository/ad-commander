{"version":3,"file":"/dist/js/term-meta.js","mappings":"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","sources":["webpack://wo/./src/js/admin/term-meta.js"],"sourcesContent":["/**\n * Term is added.\n */\njQuery(document).ajaxComplete(function (event, xhr, options) {\n\tfunction shouldParseResponse() {\n\t\treturn (\n\t\t\tadcmdr_term_meta &&\n\t\t\tadcmdr_term_meta !== \"undefined\" &&\n\t\t\txhr &&\n\t\t\txhr.readyState === 4 &&\n\t\t\txhr.status === 200 &&\n\t\t\toptions.data &&\n\t\t\toptions.data.indexOf(\"action=add-tag\") >= 0 &&\n\t\t\toptions.data.indexOf(\"taxonomy=\" + adcmdr_term_meta.tax_name) >= 0\n\t\t);\n\t}\n\n\tif (shouldParseResponse()) {\n\t\tconst res = wpAjax.parseAjaxResponse(xhr.responseXML, \"ajax-response\");\n\n\t\tif (!res || res.errors) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst termData = res.responses.find(function (element) {\n\t\t\treturn element.what === \"term\";\n\t\t});\n\n\t\tif (termData && termData.supplemental) {\n\t\t\tlet ref = window.location.pathname;\n\t\t\tif (window.location.search) {\n\t\t\t\tref = ref + window.location.search;\n\t\t\t}\n\n\t\t\tconst urlParts = [\n\t\t\t\t\"taxonomy=\" + adcmdr_term_meta.tax_name,\n\t\t\t\t\"tag_ID=\" + parseInt(termData.supplemental.term_id, 10),\n\t\t\t\t\"post_type=\" + adcmdr_term_meta.post_type,\n\t\t\t\t\"wp_http_referer=\" + encodeURIComponent(ref),\n\t\t\t];\n\n\t\t\twindow.location = adcmdr_term_meta.terms_url + \"?\" + urlParts.join(\"&\");\n\t\t}\n\t}\n});\n\njQuery(document).ready(function ($) {\n\tconst $group_ad_list = $(\".adcmdr-group-ad-list\");\n\n\t/**\n\t * Single term\n\t */\n\tif ($group_ad_list.length > 0) {\n\t\t/**\n\t\t * Show preview rotate if we have one.\n\t\t */\n\t\tnew WORotateInit(\n\t\t\tdocument\n\t\t\t\t.getElementById(\"adcmdr-group-preview\")\n\t\t\t\t.getElementsByClassName(\"adcmdr-rotate\")\n\t\t);\n\n\t\t/**\n\t\t * Show settings based on mode\n\t\t */\n\t\tconst $restricted = $(\".adcmdr-mode-restrict\");\n\t\tif ($restricted.length > 0) {\n\t\t\tconst $mode = $(\"#_adcmdr_mode\");\n\n\t\t\tif ($mode.length > 0) {\n\t\t\t\tfunction mode_changed() {\n\t\t\t\t\tconst currentMode = $mode.val();\n\t\t\t\t\tconst $toShow = $restricted.filter(\n\t\t\t\t\t\t\".adcmdr-mode-restrict--\" + currentMode\n\t\t\t\t\t);\n\n\t\t\t\t\t$restricted.not($toShow).hide();\n\t\t\t\t\tif ($toShow.length > 0) {\n\t\t\t\t\t\t$toShow.show();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t$mode.on(\"change\", function () {\n\t\t\t\t\tmode_changed();\n\t\t\t\t});\n\n\t\t\t\tmode_changed();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Group ad list management\n\t\t */\n\t\tconst $primary_submit = $('.edit-tag-actions input[type=\"submit\"]');\n\n\t\tif ($primary_submit.length > 0) {\n\t\t\t$primary_submit.val(adcmdr_term_meta.save_button_text);\n\t\t}\n\n\t\tconst $secondary_submit = $group_ad_list.find('input[type=\"submit\"]');\n\t\tconst $order_method = $('input[name=\"_adcmdr_order_method\"]');\n\t\tconst $table = $group_ad_list.find(\"table\");\n\t\tconst $noads = $table.siblings(\".adcmdr-no-ads\");\n\t\tconst groupid = $group_ad_list.data(\"groupid\");\n\t\tconst $autocomplete = $group_ad_list.find(\"#adcmdr_search_ads\");\n\t\tlet $sortable = $group_ad_list.find(\"tbody\");\n\t\tlet selectedAds = [];\n\n\t\t/**\n\t\t * Toggle some UI elements if 'weighted' method is selected.\n\t\t */\n\t\tfunction toggle_weighted() {\n\t\t\tconst $weighted_col = $group_ad_list.find(\".adcmdr-weight\");\n\n\t\t\tif ($weighted_col.length <= 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif ($order_method.filter(\":checked\").val() === \"weighted\") {\n\t\t\t\t$weighted_col.show();\n\t\t\t\t$secondary_submit.css(\"display\", \"inline-block\");\n\t\t\t} else {\n\t\t\t\t$weighted_col.hide();\n\t\t\t\t$secondary_submit.hide();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Update the currently selected ads array.\n\t\t */\n\t\tfunction updateSelectedAds() {\n\t\t\tselectedAds = [];\n\t\t\t$sortable.find(\"[data-adid]\").each(function () {\n\t\t\t\tselectedAds.push($(this).data(\"adid\"));\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Refresh the current ad order and post it to the server.\n\t\t */\n\t\tfunction refresh_ad_order() {\n\t\t\tlet adorder = [];\n\n\t\t\tif ($sortable.length > 0) {\n\t\t\t\t$sortable.children(\"tr\").each(function () {\n\t\t\t\t\tconst $this = $(this);\n\t\t\t\t\tadorder.push($this.data(\"adid\"));\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tpost_update_ad_order(adorder);\n\t\t}\n\n\t\t/**\n\t\t * Post the ad order to the server.\n\t\t *\n\t\t */\n\t\tfunction post_update_ad_order(adorder) {\n\t\t\tdo_saving();\n\n\t\t\tconst data = {\n\t\t\t\taction: adcmdr_term_meta.actions.update_ad_order.action,\n\t\t\t\tsecurity: adcmdr_term_meta.actions.update_ad_order.security,\n\t\t\t\tgroup_id: groupid,\n\t\t\t\tad_order: adorder,\n\t\t\t};\n\n\t\t\t$.post(adcmdr_term_meta.ajaxurl, data, function (r) {\n\t\t\t\tend_saving();\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Start saving\n\t\t */\n\t\tfunction do_saving() {\n\t\t\t$group_ad_list.addClass(\"adcmdr-saving\");\n\n\t\t\tif ($primary_submit.length > 0) {\n\t\t\t\t$primary_submit.attr(\"disabled\", true);\n\t\t\t}\n\n\t\t\tif ($secondary_submit.length > 0) {\n\t\t\t\t$secondary_submit.attr(\"disabled\", true);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * End saving\n\t\t */\n\t\tfunction end_saving() {\n\t\t\t$group_ad_list.removeClass(\"adcmdr-saving\");\n\n\t\t\tif ($primary_submit.length > 0) {\n\t\t\t\t$primary_submit.attr(\"disabled\", false);\n\t\t\t}\n\n\t\t\tif ($secondary_submit.length > 0) {\n\t\t\t\t$secondary_submit.attr(\"disabled\", false);\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t *  Hide or show sortable list.\n\t\t */\n\t\tfunction toggle_list_visibility() {\n\t\t\tif ($sortable.children(\"tr\").length <= 0) {\n\t\t\t\t$table.hide();\n\t\t\t\t$noads.show();\n\t\t\t} else {\n\t\t\t\t$table.show();\n\t\t\t\t$noads.hide();\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Delete an ad from a group\n\t\t */\n\t\tfunction delete_ad(adid, $elem) {\n\t\t\tdo_saving();\n\n\t\t\tvar data = {\n\t\t\t\taction: adcmdr_term_meta.actions.delete_ad_from_group.action,\n\t\t\t\tsecurity: adcmdr_term_meta.actions.delete_ad_from_group.security,\n\t\t\t\tgroup_id: groupid,\n\t\t\t\tad_id: adid,\n\t\t\t};\n\n\t\t\t$.post(adcmdr_term_meta.ajaxurl, data, function (response) {\n\t\t\t\tif (\n\t\t\t\t\tresponse.success &&\n\t\t\t\t\tresponse.data.action === \"delete-ad-from-group\"\n\t\t\t\t) {\n\t\t\t\t\t$elem.closest(\"tr\").remove();\n\t\t\t\t\tupdateSelectedAds();\n\t\t\t\t\trefresh_ad_order();\n\t\t\t\t\ttoggle_list_visibility();\n\t\t\t\t\tend_saving();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Autocomplete\n\t\t */\n\t\tif ($autocomplete.length > 0) {\n\t\t\tlet availableAds = [];\n\n\t\t\t/**\n\t\t\t * Deetermine if an ad is already selected\n\t\t\t */\n\t\t\tfunction adIsSelected(id) {\n\t\t\t\treturn (\n\t\t\t\t\tselectedAds.filter((item) => {\n\t\t\t\t\t\treturn item === id;\n\t\t\t\t\t}).length > 0\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Update the ad list with new HTML, trigger UI updates and save to the server.\n\t\t\t */\n\t\t\tfunction updateSelectedAdsList(id, title, status, post_url) {\n\t\t\t\tdo_saving();\n\n\t\t\t\tlet after_title = \"\";\n\t\t\t\tif (status !== \"publish\") {\n\t\t\t\t\tafter_title =\n\t\t\t\t\t\t'<span class=\"adcmdr-ad-status\">&mdash; ' + status + \"</span>\";\n\t\t\t\t}\n\n\t\t\t\tconst row = `<tr data-adid=\"${id}\" class=\"adcmdr-ad-has-status--${status}\">\n\t\t\t\t\t\t<td class=\"adcmdr-handle\">\n\t\t\t\t\t\t\t<img src=\"${adcmdr_term_meta.sort_handle_url}\" alt=\"\" class=\"adcmdr-ui-sort-icon wometa-repeater-sort-icon ui-sortable-handle\">\t\t\t\t\t\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"adcmdr-weight\" style=\"display: none;\">\n\t\t\t\t\t\t\t<input type=\"number\" value=\"1\" name=\"_adcmdr_ad_weights[${id}]\" id=\"_adcmdr_ad_weights[${id}]\">\t\t\t\t\t\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"adcmdr-title\">\n\t\t\t\t\t\t\t<a href=\"${post_url}\">${title}</a> ${after_title}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td class=\"adcmdr-action\">\n\t\t\t\t\t\t\t<button title=\"Remove from group\" class=\"adcmdr-del\">\n\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 101 101\">\n\t\t\t\t\t\t\t\t\t<path fill=\"#ac0101\" d=\"M50.5 16.4c-18.8 0-34.1 15.3-34.1 34.1s15.3 34.1 34.1 34.1 34.1-15.3 34.1-34.1-15.3-34.1-34.1-34.1zm0 63.4c-16.1 0-29.3-13.1-29.3-29.3s13.1-29.3 29.3-29.3 29.3 13.1 29.3 29.3-13.2 29.3-29.3 29.3z\"></path>\n\t\t\t\t\t\t\t\t\t<path fill=\"#ac0101\" d=\"M66.2 47.8H34.8c-1.3 0-2.4 1.1-2.4 2.4s1.1 2.4 2.4 2.4h31.4c1.3 0 2.4-1.1 2.4-2.4s-1.1-2.4-2.4-2.4z\"></path>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>`;\n\n\t\t\t\t$.post(\n\t\t\t\t\tadcmdr_term_meta.ajaxurl,\n\t\t\t\t\t{\n\t\t\t\t\t\taction: adcmdr_term_meta.actions.add_ad_to_term.action,\n\t\t\t\t\t\tsecurity: adcmdr_term_meta.actions.add_ad_to_term.security,\n\t\t\t\t\t\tgroup_id: groupid,\n\t\t\t\t\t\tad_id: id,\n\t\t\t\t\t},\n\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof response.success !== \"undefined\" &&\n\t\t\t\t\t\t\tresponse.success === true\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t$sortable.prepend($(row));\n\t\t\t\t\t\t\ttoggle_list_visibility();\n\t\t\t\t\t\t\ttoggle_weighted();\n\t\t\t\t\t\t\t$sortable.sortable(\"refresh\");\n\t\t\t\t\t\t\tupdateSelectedAds();\n\t\t\t\t\t\t\trefresh_ad_order();\n\t\t\t\t\t\t\tend_saving();\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tend_saving();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * Initialize the autocomplete\n\t\t\t */\n\t\t\tfunction initAutoComplete() {\n\t\t\t\t$autocomplete\n\t\t\t\t\t.on(\"keydown\", function (event) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tevent.keyCode === $.ui.keyCode.TAB &&\n\t\t\t\t\t\t\t$(this).autocomplete(\"instance\").menu.active\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.autocomplete({\n\t\t\t\t\t\tminLength: 0,\n\t\t\t\t\t\tmultiselect: true,\n\t\t\t\t\t\tsource: function (request, response) {\n\t\t\t\t\t\t\tresponse(\n\t\t\t\t\t\t\t\t$.map(availableAds, function (obj, key) {\n\t\t\t\t\t\t\t\t\tconst title = obj.title.toUpperCase();\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\ttitle.indexOf(request.term.toUpperCase()) != -1 &&\n\t\t\t\t\t\t\t\t\t\t!adIsSelected(obj.id)\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\t\tlabel: obj.title,\n\t\t\t\t\t\t\t\t\t\t\tvalue: obj.id,\n\t\t\t\t\t\t\t\t\t\t\tstatus: obj.status,\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfocus: function () {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tselect: function (event, ui) {\n\t\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\t\tupdateSelectedAdsList(\n\t\t\t\t\t\t\t\tui.item.value,\n\t\t\t\t\t\t\t\tui.item.label,\n\t\t\t\t\t\t\t\tui.item.status\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t$autocomplete.val(\"\");\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * UI triggers\n\t\t\t */\n\t\t\t$order_method.on(\"change\", function () {\n\t\t\t\ttoggle_weighted();\n\t\t\t});\n\n\t\t\t$table.on(\"click\", \".adcmdr-del\", function () {\n\t\t\t\tconst $this = $(this);\n\t\t\t\t$this.attr(\"disabled\", true);\n\t\t\t\tdelete_ad($this.closest(\"tr\").data(\"adid\"), $this);\n\t\t\t});\n\n\t\t\t/**\n\t\t\t * Init\n\t\t\t */\n\t\t\t(function () {\n\t\t\t\t/**\n\t\t\t\t * Sortable\n\t\t\t\t */\n\t\t\t\t$sortable\n\t\t\t\t\t.sortable()\n\t\t\t\t\t.sortable(\"option\", \"handle\", \".adcmdr-ui-sort-icon\")\n\t\t\t\t\t.on(\"sortupdate\", function (event, ui) {\n\t\t\t\t\t\trefresh_ad_order();\n\t\t\t\t\t});\n\n\t\t\t\t/**\n\t\t\t\t * Setup weighted\n\t\t\t\t */\n\t\t\t\ttoggle_weighted();\n\n\t\t\t\t/**\n\t\t\t\t * Get available ads for autocomplete\n\t\t\t\t */\n\t\t\t\t$.getJSON(\n\t\t\t\t\tadcmdr_term_meta.ajaxurl,\n\t\t\t\t\t{\n\t\t\t\t\t\taction: adcmdr_term_meta.actions.get_ads_for_search.action,\n\t\t\t\t\t\tsecurity: adcmdr_term_meta.actions.get_ads_for_search.security,\n\t\t\t\t\t},\n\t\t\t\t\tfunction (response) {\n\t\t\t\t\t\tavailableAds = response.data.ads ? response.data.ads : [];\n\t\t\t\t\t\tupdateSelectedAds();\n\t\t\t\t\t\tinitAutoComplete();\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t})();\n\t\t}\n\t}\n});\n"],"names":["jQuery","document","ajaxComplete","event","xhr","options","shouldParseResponse","adcmdr_term_meta","readyState","status","data","indexOf","tax_name","res","wpAjax","parseAjaxResponse","responseXML","errors","termData","responses","find","element","what","supplemental","ref","window","location","pathname","search","urlParts","parseInt","term_id","post_type","encodeURIComponent","terms_url","join","ready","$","$group_ad_list","length","toggle_weighted","$weighted_col","$order_method","filter","val","show","$secondary_submit","css","hide","updateSelectedAds","selectedAds","$sortable","each","push","refresh_ad_order","adorder","children","$this","post_update_ad_order","do_saving","action","actions","update_ad_order","security","group_id","groupid","ad_order","post","ajaxurl","r","end_saving","addClass","$primary_submit","attr","removeClass","toggle_list_visibility","$table","$noads","delete_ad","adid","$elem","delete_ad_from_group","ad_id","response","success","closest","remove","WORotateInit","getElementById","getElementsByClassName","$restricted","$mode","mode_changed","currentMode","$toShow","not","on","save_button_text","siblings","$autocomplete","adIsSelected","id","item","updateSelectedAdsList","title","post_url","after_title","row","concat","sort_handle_url","add_ad_to_term","prepend","sortable","initAutoComplete","keyCode","ui","TAB","autocomplete","menu","active","preventDefault","minLength","multiselect","source","request","map","availableAds","obj","key","toUpperCase","term","label","value","focus","select","getJSON","get_ads_for_search","ads"],"sourceRoot":""}